import{_ as w,c as f,a as n,o as l,b as a,d as m,e as p,t as g,w as z,n as D,r as h,f as R,g as N,h as F,i as b,F as $,j as x,k as M,T as A,l as K,m as H,p as C,q as O,u as T,R as U,s as Y,v as G,x as J}from"./index--nKlsyPY.js";import{P as Q,u as X}from"./usePageLoaded-BAi-UN2W.js";const Z=["src","alt"],ee={key:0,class:"playground__label"},te={class:"title"},oe={class:"date text--secondary"},le={__name:"PlaygroundCard",props:{title:{type:String,required:!0},date:{type:String,required:!0},image:{type:String,required:!0},type:{type:String,default:""},color:{type:String,default:""}},emits:["select"],setup(r,{emit:e}){const t=r,c=e,v=u=>{const s=u.trim();return s?s.startsWith("var(")?s:s.startsWith("--")?`var(${s})`:/^(#|rgb|hsl|oklch|oklab)/i.test(s)?s:`var(--${s})`:""},_=f(()=>{if(!t.color)return{};const u=v(t.color);return u?{"--playground-card-label-bg":u,"--playground-card-label-border":"transparent","--playground-card-text":u}:{}}),i=()=>{c("select")};return(u,s)=>(l(),n("div",{class:"playground__item",role:"button",tabindex:"0",style:D(_.value),onClick:i,onKeyup:z(i,["enter"])},[a("img",{src:r.image,alt:r.title,loading:"lazy"},null,8,Z),r.type?(l(),n("div",ee,[p(Q,{type:r.type},null,8,["type"])])):m("",!0),a("p",te,g(r.title),1),a("p",oe,g(r.date),1)],36))}},ae=w(le,[["__scopeId","data-v-810f54b1"]]),ne={id:"playground"},re={class:"playground__content"},se={class:"playground-modal__content"},ie={class:"playground-modal__media"},ue=["src","poster"],de=["src","alt"],ce={key:0,class:"playground-modal__text"},ve={__name:"PlaygroundSection",props:{columns:{type:Array,required:!0}},setup(r){const e=h(null),t=h(0),c=h({body:{overflow:"",position:"",top:"",width:""},html:{overflow:""}}),v=h("next"),_=h(0),i=f(()=>e.value?Array.isArray(e.value.media)&&e.value.media.length>0?e.value.media:e.value.image?[{type:"image",src:e.value.image,alt:e.value.title}]:[]:[]),u=f(()=>i.value[t.value]||null),s=f(()=>i.value.length>1),P=f(()=>e.value?.modalText||e.value?.title||""),E=o=>{e.value=o,t.value=0,v.value="next"},S=()=>{e.value=null},I=()=>{i.value.length&&(v.value="next",t.value=(t.value+1)%i.value.length)},q=()=>{i.value.length&&(v.value="prev",t.value=(t.value-1+i.value.length)%i.value.length)},L=o=>{e.value&&(o.key==="Escape"?S():o.key==="ArrowRight"&&s.value?I():o.key==="ArrowLeft"&&s.value&&q())},V=()=>{if(typeof window>"u"||typeof document>"u")return;const o=document.body,d=document.documentElement;_.value=window.scrollY||d.scrollTop||o.scrollTop||0,c.value={body:{overflow:o.style.overflow,position:o.style.position,top:o.style.top,width:o.style.width},html:{overflow:d.style.overflow}},o.style.overflow="hidden",o.style.position="fixed",o.style.top=`-${_.value}px`,o.style.width="100%",d.style.overflow="hidden"},j=()=>{if(typeof document>"u")return;const o=document.body,d=document.documentElement,{body:y,html:k}=c.value;o.style.overflow=y.overflow||"",o.style.position=y.position||"",o.style.top=y.top||"",o.style.width=y.width||"",d.style.overflow=k.overflow||"",typeof window<"u"&&window.scrollTo(0,_.value||0)};return R(()=>e.value,o=>{o?V():j()}),N(()=>{window.addEventListener("keydown",L)}),F(()=>{window.removeEventListener("keydown",L),j()}),(o,d)=>(l(),n("div",ne,[d[2]||(d[2]=a("h3",null,"Playground",-1)),a("div",re,[(l(!0),n($,null,x(r.columns,(y,k)=>(l(),n("div",{class:"col",key:`column-${k}`},[(l(!0),n($,null,x(y,(B,W)=>(l(),b(ae,H({key:`item-${k}-${W}`},{ref_for:!0},B,{onSelect:()=>E(B)}),null,16,["onSelect"]))),128))]))),128))]),(l(),b(K,{to:"body"},[p(A,{name:"modal-fade"},{default:M(()=>[e.value?(l(),n("div",{key:0,class:"playground-modal",onClick:C(S,["self"])},[a("div",se,[a("button",{class:"playground-modal__close",type:"button","aria-label":"Fermer l’aperçu",onClick:S}," (fermer) "),a("div",ie,[p(A,{name:`slide-${v.value}`},{default:M(()=>[u.value?(l(),n("div",{class:"playground-modal__media-inner",key:`${e.value?.title||"media"}-${t.value}`},[u.value.type==="video"?(l(),n("video",{key:0,src:u.value.src,poster:u.value.poster,playsinline:"",preload:"metadata",autoplay:"",muted:"",loop:""},null,8,ue)):(l(),n("img",{key:1,src:u.value.src,alt:u.value.alt||e.value?.title,loading:"lazy"},null,8,de))])):m("",!0)]),_:1},8,["name"]),s.value?(l(),n("button",{key:0,class:"playground-modal__control playground-modal__control--prev",type:"button","aria-label":"Voir le visuel précédent",onClick:C(q,["stop"])},[...d[0]||(d[0]=[a("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[a("path",{d:"M15 5l-7 7 7 7",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])])):m("",!0),s.value?(l(),n("button",{key:1,class:"playground-modal__control playground-modal__control--next",type:"button","aria-label":"Voir le visuel suivant",onClick:C(I,["stop"])},[...d[1]||(d[1]=[a("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[a("path",{d:"M9 5l7 7-7 7",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])])):m("",!0)]),P.value?(l(),n("p",ce,g(P.value),1)):m("",!0)])])):m("",!0)]),_:1})]))]))}},pe=w(ve,[["__scopeId","data-v-da1eebc1"]]),_e={class:"tag"},ye={__name:"TagItem",props:{label:{type:String,required:!0}},setup(r){return(e,t)=>(l(),n("div",_e,g(r.label),1))}},me=w(ye,[["__scopeId","data-v-744eb358"]]),fe={class:"projet"},ge={class:"projet__image"},he=["src","alt"],we={class:"projet__content"},ke={class:"projet__content__title"},be={class:"tags"},$e={class:"text--secondary"},xe={__name:"WorkCard",props:{work:{type:Object,required:!0}},setup(r){const t=O(r,"work"),c=f(()=>t.value.route||"/");return(v,_)=>(l(),n("div",fe,[p(T(U),{to:c.value,"data-link":""},{default:M(()=>[a("div",ge,[a("img",{src:t.value.cover,alt:t.value.title,loading:"lazy"},null,8,he)])]),_:1},8,["to"]),a("div",we,[a("div",ke,[a("h4",null,g(t.value.title),1),a("div",be,[(l(!0),n($,null,x(t.value.tags,i=>(l(),b(me,{key:i,label:i},null,8,["label"]))),128))])]),a("p",$e,g(t.value.intro),1)]),p(Y,{to:c.value,label:"Découvrir"},null,8,["to"])]))}},Se=w(xe,[["__scopeId","data-v-23e293b1"]]),Ce={id:"works"},Me={__name:"WorksSection",props:{works:{type:Array,required:!0}},setup(r){return(e,t)=>(l(),n("div",Ce,[t[0]||(t[0]=a("h3",null,"Réalisations",-1)),(l(!0),n($,null,x(r.works,c=>(l(),b(Se,{key:c.id,work:c},null,8,["work"]))),128))]))}},Te=w(Me,[["__scopeId","data-v-3630b1c9"]]),Pe={class:"home"},Le={__name:"Home",setup(r){const e=G,t=J;return X(),(c,v)=>(l(),n("section",Pe,[p(Te,{works:T(e)},null,8,["works"]),p(pe,{columns:T(t)},null,8,["columns"])]))}};export{Le as default};
